<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="echarts.min.js"></script>
    <script src="data.js"></script>
    <style>
        *{
            margin: 0;
            padding: 0;
            list-style: none;
        }
        html,body{
            width: 100%;
            height:100% ;
              overflow: hidden;
        }
        .container{
            width: 100%;
            height: 100%;
            box-sizing: border-box;
            padding: 50px;
        }
    </style>
</head>
<body>
  <div class="container">

  </div>
  <script>
     window.onload=function () {
         let container=document.querySelector('.container')
         let mycharts=echarts.init(container)
         let options= {
             backgroundColor: '#2c343c',

             title: {
                 text: '影视排行',
                 left: 'center',
                 top: 20,
                 textStyle: {
                     color: '#ccc'
                 }
             },

             tooltip: {
                 trigger: 'item',
                 formatter: "{a} <br/>{b} : {c} ({d}%)"
             },


             series: [
                 {
                     name: '访问来源',
                     type: 'pie',
                     radius: '55%',
                     center: ['50%', '50%'],
                     data: [

                     ]
                 }
             ]




     }; let arr=[];
          for (let i=0;i<categories.length;i++) {
              let name=categories[i]
              let value=data.filter(ele=>ele[4].includes(name)).length
              arr.push({name,value})
          }
     options.series[0].data=arr



             mycharts.setOption(options)
     }

  </script>
</body>
</html>